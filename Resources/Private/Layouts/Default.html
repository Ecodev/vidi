<f:be.container pageTitle="Vidi"
                includeCssFiles="{
		0:'{f:uri.resource(path:\'StyleSheets/VisualSearch/visualsearch.css\')}',
		1:'{f:uri.resource(path:\'StyleSheets/DataTables/datatables.css\')}',
		2:'{f:uri.resource(path:\'StyleSheets/vidi.css\')}'
	}"
                 includeJsFiles="{
		0:'{f:uri.resource(path:\'JavaScript/Uri/Uri.min.js\')}',
		1:'{f:uri.resource(path:\'JavaScript/Typo3Lang.js\')}',
		2:'{f:uri.resource(path:\'JavaScript/Compatibility.js\')}',
		4:'{f:uri.resource(path:\'JavaScript/Contrib/jquery/jquery.js\', extensionName: \'core\')}',
		5:'{f:uri.resource(path:\'JavaScript/jQuery/jquery.jeditable.js\')}',
		6:'{f:uri.resource(path:\'JavaScript/VisualSearch/dependencies.js\')}',
		7:'{f:uri.resource(path:\'JavaScript/VisualSearch/visualsearch.js\')}'

		}">

	<v:be.additionalAssets />
	<v:be.requireJs>

		// Declare namespace
		window.Vidi = window.Vidi || {};

		// "Live" variables in a Fluid syntax friendliness.
		Vidi.module = {};
		Vidi.module.publicPath = '{v:publicPath()}';
		Vidi.module.dataType = '{v:moduleLoader(key: "dataType")}';
		Vidi.module.preferenceSignature = '{v:modulePreferences(key: "signature")}';
		Vidi.module.parameterPrefix = '{v:moduleLoader(key: "parameterPrefix")}';
		Vidi.module.moduleUrl = '{v:moduleLoader(key: "moduleUrl") -> f:format.raw()}';
		Vidi.module.signature = '{v:moduleLoader(key: "signature")}';
		Vidi.module.search = {};
		Vidi.module.hasSortingByDragAndDrop = Boolean('{v:tca.table(key: "sortby")}');
		Vidi.module.search.facets = {v:grid.facets()};
		Vidi.module.search.labels = {};
		Vidi.module.search.values = {};
		Vidi.module.table = {};
		Vidi.module.table.label = '{v:tca.table(key: "label")}';
		Vidi.module.lengthMenu = [{v:grid.preferences(key: "menuVisibleItems")}];
		Vidi.module.defaultLength = '{v:grid.preferences(key: "menuVisibleItemsDefault")}';
		Vidi.module.areFacetSuggestionsLoaded = false;

		Vidi._columns = [];
		{v:grid.column.configuration()}

		// Just initialize variable with empty value.
		Vidi.icons = {};
		Vidi.userPreferences = {};
		Vidi.userPreferences.dataTables = '{v:userPreferences(key: "dataTables")}';
		Vidi.userPreferences.visualSearchQuery = '{v:userPreferences(key: "visualSearchQuery")}';
		Vidi.userPreferences.preferenceSignature = '{v:userPreferences(key: "signature")}';

	</v:be.requireJs>

	<f:render section="main"/>

</f:be.container>
{namespace v=Fab\Vidi\ViewHelpers}
