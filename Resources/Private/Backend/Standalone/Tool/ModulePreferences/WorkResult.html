<h1>
	<f:translate key="preferences_for" extensionName="vidi"/>
	{title}
</h1>

<f:form action="work" controller="Tool" extensionName="vidi" pluginName="{v:moduleLoader(key: 'signature')}"
        additionalParams="{returnUrl: '{v:gp(argument: \'returnUrl\', encode: false)}'}">
	<f:form.hidden name="tool" value="Fab\Vidi\Tool\ModulePreferencesTool"/>

	<div class="form-group">
		<label class="control-label" for="menuVisibleItems">
			<f:translate key="menu_visible_items" extensionName="vidi"/>
		</label>

		<div class="controls">
			<f:form.textfield name="arguments[menuVisibleItems]"
			                  id="menuVisibleItems"
			                  value="{menuVisibleItems}"
			                  class="form-control"/>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label" for="menuVisibleItemsDefault">
			<f:translate key="menu_visible_items_default" extensionName="vidi"/>
		</label>

		<div class="controls">
			<f:form.textfield name="arguments[menuVisibleItemsDefault]"
			                  id="menuVisibleItemsDefault"
			                  class="form-control"
			                  value="{menuVisibleItemsDefault}"/>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label">
			<f:translate key="visible_columns" extensionName="vidi"/>
		</label>

		<div class="controls">
			<ul class="list-unstyled" style="max-height: 340px; overflow-y: scroll">
				<f:for each="{columns}" as="column" iteration="iterator">
					<li>
						<div class="checkbox">
							<label>
								<div class="checkbox-placeholder">
									<f:form.checkbox name="arguments[excluded_fields][]" value="{column}"
									                 id="checkbox-{column}"
									                 class="checkbox-file"
									                 checked="{v:grid.column.isExcluded(name: '{column}')}"/>
									{column}
								</div>
							</label>
						</div>
					</li>
				</f:for>
			</ul>
		</div>
	</div>
	<div class="form-group">
		<div class="controls">
			<f:form.submit name="arguments[save]" value="{f:translate(key:'save', extensionName: 'vidi')}" class="btn btn-default"/>
		</div>
	</div>
</f:form>
{namespace v=Fab\Vidi\ViewHelpers}